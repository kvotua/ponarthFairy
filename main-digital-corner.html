<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Business Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
       
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: transparent;
            color: white;
            position: relative;
            width: 100%;
            min-height: 100vh;
            margin: 0 auto;
            overflow-x: hidden;
        }

        .wrapper {
            width: 100%;
            max-width: 460px;
            margin: 1px auto;
            background-color: #3A6CE9;
            padding-bottom: 150px;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
        }

        .container {
            padding: 0px;
            position: relative;
            z-index: 2;
            max-width: 100%;
            margin: 0 auto;
        }

        .title-block {
            text-align: center;
            position: relative;
            margin-top: 20px;
        }

        .main-title {
            font-weight: 700;
            font-size: 24px;
            line-height: 29px;
            margin-bottom: 20px;
        }

        .subtitle {
            font-weight: 400;
            font-size: 16px;
            line-height: 20px;
            color: #B8CAF8;
            max-width: 90%;
            margin: 0 auto;
        }

        /* Стили для карточек */
        .cards-row {
            position: relative;
            overflow: hidden;
            cursor: grab;
            width: 100%;
            margin-top: 130px;
            margin-bottom: 40px;
        }

        .cards-slider {
            width: 100%;
        }

        .cards-track {
            display: flex;
            padding: 0 50px;
            box-sizing: border-box;
            white-space: nowrap;
            width: auto;
            margin-left: calc(391px / 2 - 895px / 2);
        }

        .card {
            flex: 0 0 auto;
            width: 250px;
            height: 173px;
            margin: 0 10px;
            box-sizing: border-box;
            background: white;
            border-radius: 8px 8px 0 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            transform-origin: center;
            transform: scaleX(1.02);
            user-select: none;
        }

        .card-title {
            font-size: 12px;
            font-weight: bold;
            color: #333;
            text-align: left;
            padding: 10px;
            width: 201.35px;
            height: 75.69px;
            position: absolute;
            top: 13.52px;
            left: 8.11px;
            line-height: 1.3;
            white-space: pre-line;
        }

        .corner {
            position: absolute;
            width: 44.59px;
            height: 44.60px;
            top: 116.23px;
            left: 187.84px;
        }

        .corner img {
            width: 100%;
            height: auto;
        }

        /* Стили для отзывов */
        .review-section {
            margin-top: 200px !important;
            position: relative;
        }

        .review {
            background: white;
            border-radius: 8px;
            padding: 12px;
            max-width: 80%;
            margin: 0 auto;
           margin-top: 20px;
        }

        .review-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .avatar-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            position: relative;
            border: 2px solid #3A6CE9;
            overflow: hidden;
            margin-right: 10px;
        }

        .avatar {
            width: 100%;
            height: 100%;
            background: white;
            overflow: hidden;
        }

        .avatar img {
            width: 100%;
            height: auto;
        }

        .plus-container {
            position: absolute;
            bottom: 0;
            right: 0;
            transform: translate(30%, 30%);
            width: 18px;
            height: 18px;
            border: 2px solid #3A6CE9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .plus-container img {
            width: 60%;
            height: auto;
        }

        .circle-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-image: url("background-circle.png");
            background-size: cover;
            z-index: 0;
        }

        .reviewer-info {
            display: flex;
            flex-direction: column;
        }

        .reviewer-name {
            font-weight: 600;
            font-size: 14px;
            color: #3A6CE9;
            text-align: left;
        }

        .rating {
            width: 70px;
            text-align: left;
        }

        .rating img {
            width: 100%;
            height: auto;
        }

        .review-text {
            font-weight: 500;
            font-size: 14px;
            color: #333;
            padding-top: 8px;
            border-top: 1px solid #3A6CE9;
        }

        /* Стили для видео */
        .video-section {
          margin: 100px 0;
          text-align: center;
        }

        .video-header {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 16px;
        }
        .video-thumbnails {
          display: flex;
          justify-content: center;
          margin-bottom: 10px;
        }
    .video-header {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 16px;
       margin-top: 20px;
  }

  .add-video {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-right: 12px;
}
        /* Общее расположение элементов */
        .video-thumbnails {
            display: flex;
            justify-content: center;
            align-items: center;
        }

      
    .add-video,
        .video-thumb {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 6px;
            cursor: pointer;
        }

        .add-circle {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 4px;
            border: 1px solid #3A6CE9;
            overflow: hidden;
        }

        .first-circle {
            background-image: url("-");
            background-size: cover;
        }

        .add-circle img {
            width: 40%;
            height: auto;
        }

        .add-text {
            font-size: 12px;
            color: #B8CAF8;
            text-align: center;
            line-height: 1.2;
            white-space: pre-line;
        }

        .thumb-circle {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            margin-bottom: 4px;
            overflow: hidden;
            position: relative;
            transition: all 0.3s ease;
        }

        .thumb-circle video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumb-name {
            font-size: 10px;
            color: #B8CAF8;
        }

        .main-video-container {
            display: flex;
            justify-content: center;
            position: relative;
            margin-top: 20px;
        }

        .main-video {
            width: 202px;
            height: 202px;
            border-radius: 50%;
            object-fit: cover;
            background: #000;
            transition: opacity 0.5s ease;
        }
        
        .main-video video {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        /* Кнопки скачивания */
        .buttons-section {
            position: absolute;
            z-index: 99;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 330px;
        }

        .app-button {
            display: block;
            padding: 14px 25px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            text-decoration: none;
            margin-bottom: 12px;
            width: 100%;
            box-sizing: border-box;
            z-index: 99;
        }

        .app-button::before {
            font-family: 'FontAwesome';
            padding-right: 8px;
        }

        .app-button.ios-btn {
            background: #000;
            color: white;
        }

        .app-button.android-btn {
            background: white;
            color: #000;
            border: 1px solid #ccc;
        }

        .app-button.ios-btn::before {
            content: "\f179";
        }

        .app-button.android-btn::before {
            content: "\f17b";
        }

        /* Футер */
        .footer-box {
            position: absolute;
            bottom: -1px;
            left: -10%;
            width: 120%;
            height: 120px;
            background: #A8B0FF;
            border-radius: 0 0 8px 8px;
            z-index: -1;
        }

        /* V-Shape */
        .v-shape {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 460px;
            height: auto;
            max-width: 460px;
            max-height: 800px;
            z-index: -20;
        }
 
.string-break {
  text-align: center;
  font-family: Montserrat, sans-serif;
  font-weight: 400;
  font-size: 18px;
  line-height: 100%;
  letter-spacing: 0%;
  color: #B8CAF8; 
}

        /* Скриншот */
        .screenshot-placeholder {
            width: 280px;
            height: 300px;
            border-radius: 12px;
            margin: 101px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
.subtitle {
    font-family: Montserrat, sans-serif;
    font-weight: 400;
    font-size: 18px;
    line-height: 100%;
    letter-spacing: 0%;
    text-align: center;
}

.subtitle span {
    display: block;
}
      .subtitle span {
    display: block; 
}

        .screenshot-placeholder img {
            width: 100%;
            height: auto;
        }
      
      .string-break span {
    display: block; 
    text-align: center;
}

        
.employees-section {
    position: relative;
    margin: 150px 0;
    padding: 0 10px;
    overflow: visible;
}

.employee-swiper-container {
    position: relative;
    padding: 20px 0;
    margin-top: 30px;
    width: 100%;
    overflow: visible;
}

.swiper {
    width: 100%;
    height: 300px;
    overflow: visible;
}

.swiper-wrapper {
    align-items: center;
    padding: 30px 0;
}

.swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.5s ease, opacity 0.5s ease;
    transform-origin: center bottom;
    height: auto;
    width: 170px !important;
}
            
.employee {
    display: flex;
    flex-direction: column;
    align-items: center;
    
    position: relative;
    transition: all 0.5s ease;
    padding: 0;
    margin: 0;
}

.employee-photo {
    width: 212px;
    height: 204px;
    border-radius: 20px 20px 0 20px;
    overflow: hidden;
    position: relative;
    transition: all 0.5s ease;
    background-color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index:1 ;
    box-shadow: 1px 1px 58.1px 5px #00000040;
}

.employee-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    z-index: 1;
}

.employees-section .title-block .subtitle {
    margin-bottom: -100px;
}

.employee-name {
    position: absolute;
    bottom: 10px auto; 
    left: -19%;
  right: -70px;
    width: 115%;
    color: white;
    font-size: 16px;
    padding: 15%;
    font-weight: 0px;
    text-align: center;
    border-radius: 0 0 0 20px;
    transition: all 0.5s ease;
    transform: translateY(0);
    z-index: 10;
background: linear-gradient(0deg, rgba(0, 0, 0, 0.73) 56.23%, rgba(0, 0, 0, 0) 81.99%);

    background-size: 130% 240%;  
    background-position: center top;  
    background-repeat: no-repeat;
    overflow: hidden;
    height: 105px; 
    line-height: 99px;
     top: 116px;    
}

/* Центральный слайд - увеличенный */
.swiper-slide-active {
    z-index: 10 !important;
}

.swiper-slide-active .employee-photo {
    box-shadow: 1px 1px 58.1px 5px rgba(0, 0, 0, 0.35);
}

.swiper-slide-active .employee-name {
    position: absolute;
    bottom: auto; 
    left: -19px;
    width: 114%;
    color: white;
    font-size: 13px;
    padding: 0;
    font-weight: 0px;
    text-align: center;
    border-radius: 0 0 0 20px;
    transition: all 0.5s ease;
    transform: translateY(0);
    z-index: 10;
   background: linear-gradient(0deg, rgba(0, 0, 0, 0.34) 39.23%, rgba(0, 0, 0, 0) 81.99%);

    background-size: calc(180% + 500px) 130% !Important;
    background-position: center;
    background-repeat: no-repeat;
    overflow: hidden;
    height: 100px;
    line-height: 100px;
   top: 120px; 
}


/* Боковые слайды */
.swiper-slide-prev .employee-photo,
.swiper-slide-next .employee-photo {
    transform: scale(0.74) !important;
    opacity: 1 !important;
    z-index: 2;
}

/* Крайние слайды */
.swiper-slide:not(.swiper-slide-prev):not(.swiper-slide-active):not(.swiper-slide-next) .employee-photo {
    transform: scale(0.74) !important;
    opacity: 1 !important;
    z-index: 0;
}


.swiper-button-prev,
.swiper-button-next {
    display: none;
}


.video-thumb {
    position: relative;
}

.video-thumb::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 48px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 50%;
    z-index: 1;
}

.video-thumb .play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 16px;
    height: 16px;
    background: rgba(0, 0, 0, 0.0);
    border-radius: 50%;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
}

.video-thumb .play-icon::before {
    content: "";
    width: 0;
    height: 0;
    border-top: 0px solid transparent;
    border-left: 0px solid ;
    border-bottom: 5px solid transparent;
    margin-left: 2px;
}


.video-animation-clone {
    position: fixed;
    border-radius: 50%;
    overflow: hidden;
    z-index: 1000;
    pointer-events: none;
    transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1), 
                opacity 0.3s ease;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

.video-animation-clone video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.main-video {
    transition: opacity 0.5s ease;
}

.thumb-circle {
    transition: opacity 0.3s ease;
}

.video-thumb.active .thumb-circle {
  box-shadow: 0 0 0 2px white;
}


@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.7); }
  70% { box-shadow: 0 0 0 6px rgba(255,255,255,0); }
  100% { box-shadow: 0 0 0 0 rgba(255,255,255,0); }
}

.main-video.pulsing {
  animation: pulse 2s infinite;
}
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="container">
               <div class="title-block" style="margin-top: 180px">
        <h1 class="main-title">ПОЛЕЗНЫЕ ИНСТРУМЕНТЫ<br> ДЛЯ ВАШЕГО БИЗНЕСА</h1>
        <div class = "string-break">
           <span>Улучшайте Ваши экономические</span>
           <span>показатели за счет качественного</span>
           <span>сервиса уже сейчас</span>
       </div>
    </div>

            <div class="cards-row">
                <img class="v-shape" src="https://i.postimg.cc/kMwJCzkD/V.png" alt="V-образная фигура">
                <div class="cards-slider">
                    <div class="cards-track">
                        <div class="card">
                            <div class="card-title">Нейросетевой <br> тайный <br> покупатель</div>
                            <div class="corner"><img style="width: 44.59px; height: 44.60px;" src="https://i.postimg.cc/tJshXWCg/corner-main.png"
                                    alt="Corner"></div>
                        </div>
                        <div class="card">
                            <div class="card-title">Нейросетевой <br> тайный <br> покупатель</div>
                            <div class="corner"><img style="width: 44.59px; height: 44.60px;" src="https://i.postimg.cc/tJshXWCg/corner-main.png"
                                    alt="Corner"></div>
                        </div>
                        <div class="card">
                            <div class="card-title">Нейросетевой <br> тайный <br> покупатель</div>
                            <div class="corner"><img style="width: 44.59px; height: 44.60px;" src="https://i.postimg.cc/tJshXWCg/corner-main.png"
                                    alt="Corner"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="review-section">
                <div class="title-block">
                    <h2 class="main-title">ОТЗЫВЫ В ПРИВЫЧНОМ ФОРМАТЕ</h2>
                  <p class="subtitle">
    <span>Простые отзывы могут быть анонимные</span>
    <span>или нет, а также есть три категории:</span>
    <span>отзыв, предложения и жалоба для</span>
    <span> более лучших метрик</span>
</p>
                </div>
                <div class="review">
                    <div class="review-header">
                        <div class="avatar-circle">
                            <div class="circle-background"></div>
                            <div class="avatar"><img src="https://i.postimg.cc/HLh8ZF3J/guest-icon.png" alt="Avatar"></div>
                            <div class="plus-container"><img src="https://i.postimg.cc/HLh8ZF3J/guest-icon.png" alt="Avatar"></div>
                        </div>
                        <div class="reviewer-info">
                            <div class="reviewer-name">Гость</div>
                            <div class="rating"><img src="https://i.postimg.cc/WzX745T0/stars.png" alt="Rating"></div>
                        </div>
                    </div>
                    <div class="review-text">Нет претензий. Всё устроило.</div>
                </div>
            </div>

              <!-- Видео-отзывы -->
        <section class="video-section">
            <div class="title-block">
                <h2 class="main-title">ВИДЕО-ОТЗЫВЫ</h2>
                <p class="subtitle">Самый популярный формат общения в наше время! Видео-отзывы более точно передадут эмоции и впечатление клиента</p>
            </div>
    
            <div class="video-header">
              <div class="add-video">
                <div class="add-circle first-circle">
                    <img src="https://i.postimg.cc/Tw6d26d5/image.png" alt="Add video">
                </div>
                <div class="add-text">добавить
                    видео-отзыв</div>
                </div>

    <!-- добавление нескольких экземпляров для показа -->
           <div class="video-thumbnails">
              <div class="video-thumb" data-video-index="0">
                    <div class="thumb-circle">
                        <video muted playsinline preload="metadata">
                            <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="play-icon"></div>
                    <div class="thumb-name">Марина</div>
              </div>
              <div class="video-thumb" data-video-index="1">
                    <div class="thumb-circle">
                        <video muted playsinline preload="metadata">
                            <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="play-icon"></div>
                    <div class="thumb-name">марина</div>
              </div>
              <div class="video-thumb" data-video-index="2">
                    <div class="thumb-circle">
                        <video muted playsinline preload="metadata">
                            <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="play-icon"></div>
                    <div class="thumb-name">марина</div>
              </div>
              <div class="video-thumb" data-video-index="3">
                 <div class="thumb-circle">
                    <video muted playsinline preload="metadata">
                        <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4" type="video/mp4">
                    </video>
                 </div>
                 <div class="play-icon"></div>
                 <div class="thumb-name">марина</div>
               </div>
            </div>
           </div>

          <!-- Контейнер для центрирования основного видео -->
           <div class="main-video-container">
             <div class="main-video">
                <video id="mainVideoPlayer" muted playsinline autoplay>
                    <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                </video>
             </div>
          </div>
     </section>

            <div class="employees-section">
                <div class="title-block" style="margin-bottom: 0">
                    <h2 class="main-title">СОТРУДНИКИ</h2>
                    <p class="subtitle">Отслеживай работу сотрудников через отзывы. Добавь возможность оставлять чаевые</p>
                </div>
                
                <!-- Swiper контейнер -->
                <div class="employee-swiper-container">
                    <div class="swiper employee-swiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <div class="employee">
                                    <div class="employee-photo"><img src="https://i.postimg.cc/rpSn49wd/alex-png.png" alt="Александр"> <div class="employee-name">Александр</div></div>
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="employee">
                                    <div class="employee-photo"><img src="https://i.postimg.cc/rpSn49wd/alex-png.png" alt="Андрей"><div class="employee-name">Андрей</div></div>
                                    
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="employee">
                                    <div class="employee-photo"><img src="https://i.postimg.cc/sXmT6DSs/ekat.png" alt="Екатерина"> <div class="employee-name">Екатерина</div></div>
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="employee">
                                    <div class="employee-photo"><img src="https://i.postimg.cc/rpSn49wd/alex-png.png" alt="Александр"><div class="employee-name">Александр</div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="title-block" style="margin-top: 120px">
                <h2 class="main-title">УПРАВЛЕНИЕ КОНТЕНТОМ</h2>
                <p class="subtitle">Оформи свой уголок. Прикрепи документы и социальные сети торговой 
                  точки</p>
            </div>

            <div class="title-block" style="margin-top: 110px;">
                <h2 class="main-title">МОДЕРАЦИЯ ОТЗЫВОВ</h2>
                <p class="subtitle">Не переживайте за свой уголок, все отзывы проходят модерацию</p>
            </div>

            <div class="title-block" style="margin-top: 210px;">
                <h2 class="main-title">УПРАВЛЯЙТЕ ВМЕСТЕ С КОМАНДОЙ</h2>
                <p class="subtitle">Назначай людей для администрирования твоей сети магазинов, а также разделяй доступ</p>
            </div>

            <div class="screenshot-placeholder">
                <img src="https://i.postimg.cc/k58Md4md/screen.png" alt="Screenshot">
            </div>
        </div>

        <!-- Кнопки для скачивания приложений -->
        <div class="buttons-section">
            <a href="#" class="app-button ios-btn">Swip для IOS</a>
            <a href="#" class="app-button android-btn">Для Android</a>
        </div>

        
    </div>
    
    <!-- Подключение Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>   
     
      function cloneCards() {
          const cardsTrack = document.querySelector('.cards-track');
          const cards = document.querySelectorAll('.cards-track .card');
          
         
          cards.forEach(card => {
              const clone = card.cloneNode(true);
              cardsTrack.appendChild(clone);
          });
          
         
          if (cards.length > 0) {
              const cardStyle = getComputedStyle(cards[0]);
              const cardWidth = cards[0].offsetWidth;
              const cardMargin = parseFloat(cardStyle.marginLeft) + parseFloat(cardStyle.marginRight);
              return (cardWidth + cardMargin) * cards.length;
          }
          return 0;
      }
      
      
      function initAutoScroll() {
          const cardsTrack = document.querySelector('.cards-track');
          const cardsRow = document.querySelector('.cards-row');
          let currentX = 0;
          let isDragging = false;
          let startX = 0;
          let autoScrollEnabled = true;
          let lastTime = 0;
          const scrollSpeed = 1;
          
         
          const groupWidth = cloneCards();
          
        
          function autoScroll(timestamp) {
              if (!lastTime) lastTime = timestamp;
              const deltaTime = timestamp - lastTime;
              lastTime = timestamp;
              
              if (autoScrollEnabled && !isDragging) {
                  currentX -= scrollSpeed;
                  
                
                  if (currentX <= -groupWidth) {
                      currentX += groupWidth;
                  }
                  
                  cardsTrack.style.transform = `translateX(${currentX}px)`;
              }
              
              requestAnimationFrame(autoScroll);
          }
          
          // Обработчики событий для перетаскивания
          cardsRow.addEventListener('mousedown', (e) => {
              isDragging = true;
              autoScrollEnabled = false;
              startX = e.clientX - cardsTrack.offsetLeft;
              cardsRow.style.cursor = 'grabbing';
          });

          cardsRow.addEventListener('mouseleave', () => {
              isDragging = false;
              autoScrollEnabled = true;
              cardsRow.style.cursor = 'grab';
          });

          cardsRow.addEventListener('mouseup', () => {
              isDragging = false;
              autoScrollEnabled = true;
              cardsRow.style.cursor = 'grab';
          });

          cardsRow.addEventListener('mousemove', (e) => {
              if (!isDragging) return;
              e.preventDefault();
              const x = e.clientX - cardsTrack.offsetLeft;
              const walk = (x - startX) * 0.9; 
              currentX += walk;
              cardsTrack.style.transform = `translateX(${currentX}px)`;
              startX = x;
          });

          // Touch events
          cardsRow.addEventListener('touchstart', (e) => {
              isDragging = true;
              autoScrollEnabled = false;
              startX = e.touches[0].clientX - cardsTrack.offsetLeft;
              cardsRow.style.cursor = 'grabbing';
          });

          cardsRow.addEventListener('touchend', () => {
              isDragging = false;
              autoScrollEnabled = true;
              cardsRow.style.cursor = 'grab';
          });

          cardsRow.addEventListener('touchmove', (e) => {
              if (!isDragging) return;
              e.preventDefault();
              const x = e.touches[0].clientX - cardsTrack.offsetLeft;
              const walk = (x - startX) * 0.3;
              currentX += walk;
              cardsTrack.style.transform = `translateX(${currentX}px)`;
              startX = x;
          });
          
      
          requestAnimationFrame(autoScroll);
      }
      
      window.addEventListener('scroll', function () {
          const vShape = document.querySelector('.v-shape');
          const scrollPosition = window.pageYOffset;

        
          const initialTop = 40;

         
          const minTop = initialTop;
          const maxTop = 40;

      
          let newTop = initialTop + scrollPosition * 0.1;

        
          if (newTop < minTop) {
              newTop = minTop;
          } else if (newTop > maxTop) {
              newTop = maxTop;
          }

         
          vShape.style.top = newTop + 'px';
      });
      
      document.addEventListener('DOMContentLoaded', () => {
         
          initAutoScroll();
          
          // Инициализация Swiper для сотрудников
          const employeeSwiper = new Swiper('.employee-swiper', {
              slidesPerView: 'auto',
              centeredSlides: true,
              spaceBetween: 0,
              loop: true,
              speed: 500,
              grabCursor: true,
              watchSlidesProgress: true,
              breakpoints: {
                  320: {
                      spaceBetween: 0
                  },
                  768: {
                      spaceBetween: 0
                  }
              },
              on: {
                  slideChange: function () {
                     
                      this.slides.forEach((slide, index) => {
                          const slideProgress = slide.progress;
                          const scale = 1 - Math.abs(slideProgress) * 0.2;
                          const opacity = 1 - Math.abs(slideProgress) * 0.3;
                          
                          slide.querySelector('.employee-photo').style.transform = `scale(${scale})`;
                          slide.querySelector('.employee-photo').style.opacity = opacity;
                          
                          
                          const nameElement = slide.querySelector('.employee-name');
                          if (Math.abs(slideProgress) < 0.1) {
                              // Центральный слайд
                              nameElement.style.transform = 'translateY(5px)';
                              nameElement.style.transform = 'translateX(-11px)';
                              nameElement.style.fontSize = '17px';
                              nameElement.style.padding = '10px 0';
                          } else {
                              // Боковые слайды
                              nameElement.style.transform = 'translateY(10)';
                              nameElement.style.fontSize = '15px';
                              nameElement.style.padding = '20px 0px';
                          }
                      });
                  },
                  setTransition: function (transition) {
                      this.slides.forEach(slide => {
                          slide.style.transition = transition + 'ms';
                          slide.querySelector('.employee-photo').style.transition = transition + 'ms';
                          slide.querySelector('.employee-name').style.transition = transition + 'ms';
                      });
                  }
              }
          });
          
         
          const videoThumbs = document.querySelectorAll('.video-thumb');
          const mainVideoPlayer = document.getElementById('mainVideoPlayer');
          const mainVideoContainer = document.querySelector('.main-video');
          const videoSources = [
              'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',
              'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',
              'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4',
              'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4'
          ];
          
       
          let currentVideoIndex = 0;
          let isAnimating = false;
          
          
          function updateActiveThumb() {
              videoThumbs.forEach(thumb => thumb.classList.remove('active'));
              if (videoThumbs[currentVideoIndex]) {
                  videoThumbs[currentVideoIndex].classList.add('active');
              }
          }
          
        
          function switchToVideo(nextIndex) {
              if (isAnimating || nextIndex === currentVideoIndex) return;
              
              isAnimating = true;
              const nextThumb = videoThumbs[nextIndex];
              const nextThumbCircle = nextThumb.querySelector('.thumb-circle');
              const mainVideo = document.querySelector('.main-video');
              
              // Получаем координаты элементов
              const thumbRect = nextThumbCircle.getBoundingClientRect();
              const mainVideoRect = mainVideo.getBoundingClientRect();
              
            
              const thumbClone = nextThumbCircle.cloneNode(true);
              thumbClone.classList.add('video-animation-clone');
              thumbClone.style.position = 'fixed';
              thumbClone.style.top = `${thumbRect.top}px`;
              thumbClone.style.left = `${thumbRect.left}px`;
              thumbClone.style.width = `${thumbRect.width}px`;
              thumbClone.style.height = `${thumbRect.height}px`;
              document.body.appendChild(thumbClone);
              
             
              const videoClone = mainVideo.cloneNode(true);
              videoClone.classList.add('video-animation-clone');
              videoClone.style.position = 'fixed';
              videoClone.style.top = `${mainVideoRect.top}px`;
              videoClone.style.left = `${mainVideoRect.left}px`;
              videoClone.style.width = `${mainVideoRect.width}px`;
              videoClone.style.height = `${mainVideoRect.height}px`;
              document.body.appendChild(videoClone);
              
              
              mainVideoPlayer.style.opacity = 0;
              nextThumbCircle.style.opacity = 0;
              
              
              const scaleFactor = mainVideoRect.width / thumbRect.width;
              const moveX = mainVideoRect.left - thumbRect.left + (mainVideoRect.width - thumbRect.width) / 2;
              const moveY = mainVideoRect.top - thumbRect.top + (mainVideoRect.height - thumbRect.height) / 2;
              
              // Анимация миниатюры -> центр
              setTimeout(() => {
                  thumbClone.style.transform = `translate(${moveX}px, ${moveY}px) scale(${scaleFactor})`;
              }, 10);
              
              // Анимация центра -> миниатюра
              setTimeout(() => {
                  videoClone.style.transform = `translate(${-moveX}px, ${-moveY}px) scale(${1/scaleFactor})`;
                  videoClone.style.opacity = 0;
              }, 10);
              
             
              currentVideoIndex = nextIndex;
              mainVideoPlayer.src = videoSources[currentVideoIndex];
              mainVideoPlayer.play().catch(e => console.error('Video play error:', e));
              
             
              setTimeout(() => {
                 
                  document.body.removeChild(thumbClone);
                  document.body.removeChild(videoClone);
                  
                
                  mainVideoPlayer.style.opacity = 1;
                  nextThumbCircle.style.opacity = 1;
                  
                 
                  updateActiveThumb();
                  
                
                  mainVideoContainer.classList.add('pulsing');
                  setTimeout(() => {
                      mainVideoContainer.classList.remove('pulsing');
                  }, 2000);
                  
                  isAnimating = false;
                  
               
                  mainVideoPlayer.onended = animateVideoTransition;
              }, 500);
          }
          
         
          function animateVideoTransition() {
              if (isAnimating) return;
              
              const nextIndex = (currentVideoIndex + 1) % videoSources.length;
              switchToVideo(nextIndex);
          }
          
        
          videoThumbs.forEach((thumb, index) => {
              thumb.addEventListener('click', () => {
                  if (isAnimating || index === currentVideoIndex) return;
                  
                  
                  mainVideoPlayer.pause();
                  mainVideoPlayer.onended = null;
                  
                  switchToVideo(index);
              });
          });
          
          
          mainVideoPlayer.src = videoSources[0];
          mainVideoPlayer.play().catch(e => console.error('Initial video play error:', e));
          
         
          updateActiveThumb();
          
          
          mainVideoPlayer.onended = animateVideoTransition;
      });
    </script>
</body>
</html>